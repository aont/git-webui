# git-webui

A minimal aiohttp-based web interface for applying user-provided patches to GitHub repositories with `git apply --3way -v`, committing, and pushing the result.

## Features

- Clone a repository over SSH (or HTTPS) using a provided URL.
- Optional branch selection/creation.
- Configure git user name and email before committing.
- Provide an SSH private key that is stored only temporarily and removed after the request.
- Upload a patch via the browser and apply it with `git apply --3way -v`.
- Commit with a custom message and push the result, all while streaming detailed logs back to the UI for troubleshooting.

## Requirements

- Python 3.10+
- Dependencies listed in `requirements.txt`

Install dependencies:

```bash
pip install -r requirements.txt
```

## Usage

```bash
python app.py
```

The application listens on `http://0.0.0.0:8080/` by default.

1. Enter the repository SSH URL (HTTPS is also supported when credentials are already configured).
2. Optionally specify a target branch. If the branch does not exist it will be created.
3. Provide git user name/email to configure the cloned repository before committing.
4. Paste a private SSH key if pushing over SSH is required. The key is written to a temporary file with `0600` permissions and deleted afterwards.
5. Paste the patch content (as generated by `git diff` or similar).
6. Enter a commit message. If omitted the application will apply the patch but skip commit/push.
7. Submit the form to run the automated workflow. All git command outputs and errors appear in the log section so you can diagnose failures.

## Notes

- The application uses temporary directories for cloning repositories and cleans them automatically once processing finishes.
- Logs include timestamps (UTC) for each command and their outputs, helping identify at which step a failure occurred.
- The web UI does not persist any sensitive data such as SSH keys or patches.
